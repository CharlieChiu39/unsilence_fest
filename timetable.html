<h2 class="blink">> è®€å–æ™‚é–“è»¸: TIMETABLE.exe</h2>
<style>
    /* âœ¨ æ–°å¢ï¼šç•¶å‰æ™‚é–“çš„é«˜äº®ç‰¹æ•ˆ */
    .current-slot { background: var(--highlight-color); color: #000; font-weight: bold; }
    .current-slot td { border-color: #000 !important; }
    .now-tag { animation: blinker 1s linear infinite; display: inline-block; margin-left: 5px; font-size: 12px; }
</style>

<table class="retro-table" id="timetable">
    <thead><tr><th>TIME</th><th>NOISE_STAGE (é›œè¨Šèˆå°)</th><th>SILENCE_STAGE (å¯§éœèˆå°)</th></tr></thead>
    <tbody>
        <tr data-start="14:00" data-end="15:30"><td>14:00</td><td class="noise-td">ç†±éŸ³ç¤¾ (OPENING)</td><td class="silence-td">---</td></tr>
        <tr data-start="15:30" data-end="17:00"><td>15:30</td><td class="noise-td">é›œè¨Šç”Ÿæˆå™¨</td><td class="silence-td">æ°›åœå¯¦é©—å®¤</td></tr>
        <tr data-start="17:00" data-end="22:00"><td>17:00</td><td class="noise-td">åˆå¤œçµ‚ç«¯</td><td class="silence-td">å¾Œæ–å…‰æ™¯</td></tr>
    </tbody>
</table>

<div style="margin-top: 30px; border-top: 2px dashed #999; padding-top: 15px; text-align: center;">
    <h3 style="margin-top: 0;">> é›¢ç·šå‚™ä»½ (OFFLINE BACKUP)</h3>
    <p style="font-size: 12px; color: #555;">å»ºè­°å°‡ä¿¡è™Ÿæºå­˜å…¥è¡Œå‹•è£ç½®ä»¥é˜²æ–·è¨Šã€‚</p>
    <a href="timetable_image.jpg" download class="sys-btn yes" style="font-size: 16px; padding: 8px 20px;">ğŸ’¾ ä¸‹è¼‰æ™‚åˆ»è¡¨åœ–æª” (Y)</a>
</div>

<script>
    // âœ¨ æ–°å¢ï¼šè‡ªå‹•æ¯”å°æ™‚é–“é‚è¼¯
    function checkCurrentTime() {
        const now = new Date();
        // å°‡æ™‚é–“è½‰æ›ç‚ºæµ®é»æ•¸æ–¹ä¾¿æ¯”å° (ä¾‹å¦‚ 15:30 -> 15.5)
        const currentTime = now.getHours() + (now.getMinutes() / 60);

        const rows = document.querySelectorAll('#timetable tbody tr');
        rows.forEach(row => {
            // æ¸…é™¤ä¹‹å‰çš„æ¨™è¨˜
            row.classList.remove('current-slot');
            const oldTags = row.querySelectorAll('.now-tag');
            oldTags.forEach(tag => tag.remove());

            const startArr = row.dataset.start.split(':');
            const endArr = row.dataset.end.split(':');
            const start = parseInt(startArr[0]) + (parseInt(startArr[1]) / 60);
            const end = parseInt(endArr[0]) + (parseInt(endArr[1]) / 60);

            // å¦‚æœç¾åœ¨æ™‚é–“ä»‹æ–¼é€™å ´æ¼”å‡ºçš„èµ·è¨–æ™‚é–“å…§
            if (currentTime >= start && currentTime < end) {
                row.classList.add('current-slot');
                row.querySelector('td').innerHTML += '<span class="now-tag">[NOW]</span>';
            }
        });
    }

    // è¼‰å…¥æ™‚åŸ·è¡Œä¸€æ¬¡ï¼Œç„¶å¾Œæ¯ 60 ç§’æ›´æ–°ä¸€æ¬¡
    checkCurrentTime();
    setInterval(checkCurrentTime, 60000);
</script>